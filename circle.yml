machine:
  python:
    version: 2.7.10
  environment:
    DJANGO_SETTINGS_MODULE: payment_system.settings 
database:
  override:
      - docker run --name postgres95 -e POSTGRES_PASSWORD=password -d postgres:9.5; sleep 10
      - docker run -it --link postgres95 -e "PGPASSWORD=password" postgres:9.5 sh -c 'exec psql -h "$POSTGRES95_PORT_5432_TCP_ADDR" -p "$POSTGRES95_PORT_5432_TCP_PORT" -U postgres -c "CREATE DATABASE itravle"'
dependencies:
  pre:
    - sudo apt-get install -y build-essential python-dev; sudo apt-get install -y python-psycopg2; sudo apt-get install -y libpq-dev; sudo apt-get install -y libjpeg-dev; easy_install -U setuptools
  override:
    - pip install -r requirements.txt
test:
  override:
    - python manage.py test
    